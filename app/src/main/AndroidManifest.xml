<?xml version="1.0" encoding="utf-8"?>
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:tools="http://schemas.android.com/tools">

    <!--
        App 模块清单

        注意：所有保活相关的权限和组件都在 framework 模块中声明
        这里只需要声明 app 特有的内容

        framework 模块会通过 manifest merger 自动合并：
        - 所有权限（蓝牙、前台服务、账户同步等）
        - 所有服务（FwForegroundService、DaemonService、JobService等）
        - 所有广播接收器（BluetoothReceiver、SystemEventReceiver等）
        - 所有 Provider（账户同步用）
        - 1像素 Activity
    -->

    <application
        android:name=".MyApp"
        android:allowBackup="true"
        android:dataExtractionRules="@xml/data_extraction_rules"
        android:fullBackupContent="@xml/backup_rules"
        android:icon="@mipmap/ic_launcher"
        android:label="@string/app_name"
        android:roundIcon="@mipmap/ic_launcher_round"
        android:supportsRtl="true"
        android:theme="@style/Theme.KeepLiveService"
        tools:targetApi="31">

        <!-- ==================== 主界面 ==================== -->
        <activity
            android:name=".MainActivity"
            android:exported="true"
            android:theme="@style/Theme.KeepLiveService">
            <intent-filter>
                <action android:name="android.intent.action.MAIN" />
                <category android:name="android.intent.category.LAUNCHER" />
            </intent-filter>
        </activity>

        <!--
            其他组件说明：

            以下组件由 framework 模块提供，无需在此声明：

            服务：
            - com.service.framework.service.FwForegroundService (前台服务)
            - com.service.framework.service.DaemonService (守护进程)
            - com.service.framework.strategy.FwJobService (JobScheduler)
            - com.service.framework.account.AuthenticatorService (账户认证)
            - com.service.framework.account.SyncService (同步服务)

            广播接收器：
            - com.service.framework.receiver.BluetoothReceiver (蓝牙事件)
            - com.service.framework.receiver.MediaButtonReceiver (媒体按键)
            - com.service.framework.receiver.SystemEventReceiver (系统事件)
            - com.service.framework.strategy.AlarmReceiver (闹钟唤醒)

            Activity：
            - com.service.framework.strategy.OnePixelActivity (1像素Activity)

            Provider：
            - com.service.framework.account.StubContentProvider (账户同步)
        -->

    </application>

</manifest>
